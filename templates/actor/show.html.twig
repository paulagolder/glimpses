{# templates/actor/show.html.twig #}

{% extends 'base.html.twig' %}

{% block stylesheets %}
{{ parent() }}
<link href="{{ asset('css/actor.css') }}" rel="stylesheet" />
{% endblock %}

{% block js %}
{{ parent() }}

{% endblock %}

{% block body %}
<div id="actor" >


    <div class ="heading" >
        <div class="returnbutton button1"> <a href = "/actor/showall" >return </a> </div>
        <div class="returnbutton">  <a   href = "/actor/delete/{{actor.actorid}}" >delete </a> </div>
        <div class="returnbutton">  <a   href = "/actor/edit/{{actor.actorid}}" >edit </a> </div>
        <div class="returnbutton">  <a   href = "/actor/editroles/{{actor.actorid}}" >edit roles </a> </div>
        <div class="returnbutton"><a  href = "/actor/new" >Add New actor </a> </div>
    </div>
    <div class="actor">
            <div class="heading" >
            <div class="title">Actor </div>
        </div>
        <div class="row">
            <div class="inputpair" >
                <div class="label">ID </div>
                <div class= "field"> {{actor.actorid}}</div>
            </div>
        </div>
        <div class="row">
            <div class="inputpair" >
                <div class="label">name</div>
                <div class= "field"> {{actor.surname}}, {{actor.forename}} </div>
            </div>
            <div class="inputpair" >
                <div class="label"> specifier </div>
                <div class= "field"> {{actor.specifier}} </div>
            </div>
        </div>
        <div class="row">
            <div class="inputpair" >
                <div class="label">birthdate</div>
                {% if actor.birthdate is not null  %}
                <div class= "field"> {{actor.Birthdate}} </div>
                {% else %}
                <div class= "field"> "Null"" </div>
                {% endif %}
            </div>
            <div class="inputpair" >
                <div class="label"> deathdate</div>
                <div class= "field"> {{actor.deathdate}} </div>
            </div>
        </div>
        <div class="row">

            <div class="inputpair" >
                <div class="label"> text </div>
                <div class= "field"> {{actor.text}} </div>
            </div>
        </div>
        <div class="subheading" >
            <div class="title">Life Events </div>
        </div>
        <div class="eventTable" >
            <div class="body">
                {% for eid, levent in lifeevents %}
                <div class="row">
                    <div class="cell"> {{levent.lifeeventid}}</div>
                    <div class="cell">{{levent.eventtype}} </div>
                    <div class="cell">{{levent.lowdate}} </div>
                    <div class="cell">{{levent.highdate}} </div>
                </div>
                {% endfor %}
            </div>
        </div>
        <div class="subheading" >
            <div class="title">Relationship</div>
        </div>
        <div class="relationTable" >
            <div class="list">
                {% for rid, relation in relations %}
                <div class="row">
                    {% dump(relation) %}

                         <div class="returnbutton">  <a   href = "/relation/show/{{relation.relationid}}" >View</a> </div>

                       <div class="returnbutton">
                      <a   href = "/actor/show/{{relation.actor1ref}}" >{{actors[relation.actor1ref].label}} </a>
                     </div>
                    <div class="cell">  is {{relation.relation}} of </div>

                         <div class="returnbutton">  <a   href = "/actor/show/{{relation.actor2ref}}" >{{actors[relation.actor2ref].label}}</a> </div>

                     </div>
                    {% endfor %}
                </div>
            </div>
            <div class="subheading" >
                <div class="title">Roles </div>
            </div>
            {% dump roles %}
            <div class="roleTable" >
                <div class="body">
                    {% for pid, role in roles %}
                    {% dump(role) %}
                     {% dump(role.glimpse) %}
                   {# {% if role.glimspse is defined  %} #}
                    <div class="row">
                    {% set formatedtext = FormatRole(role.roleref,role.glimpse) %}
                        <div class="cell" >{{formatedtext}}</div>
                        <div class="cell" >  Age: {{calAge(actor.Birthdate,role.glimpse.date)}} </div>
                         <div class="cell">{{role.predicates}} </div>
                    </div>
                 {#   {% endif %} #}

                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}




